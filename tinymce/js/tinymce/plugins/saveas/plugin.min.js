tinymce.PluginManager.add("saveas",function(a){function b(a,b,c,d){var e=document.createElement("a");e.download=a+"."+d,e.href="data:"+c+","+encodeURIComponent(b),e.click()}function c(){function c(){var a=[];return tinymce.each(e,function(b){a.push(b)}),a}return function(){return tinymce.isWebKit?void a.windowManager.open({title:"Save As...",body:[{name:"filename",type:"textbox",autofocus:!0,label:"File name"},{name:"format",type:"listbox",label:"Format",values:c()}],onSubmit:function(c){var e=c.data,f=tinymce.trim(a.getContent({format:e.format}));b(e.filename,f,d[e.format].mime,d[e.format].name)}}):void a.windowManager.open({title:"Sorry!",body:[{type:"label",label:"Sorry, the Save As plugin is currently only available for Chrome browser.",name:"label",value:"Sorry, the Save As plugin is currently only available for Chrome browser."}]})}}var d={text:{name:"txt",mime:"text/plain"},html:{name:"html",mime:"text/html"}},e=[{text:"Plain text (.txt)",value:"text"},{text:"HTML (.html)",value:"html"}];a.addButton("saveas",{icon:"save",text:"Save As",tooltip:"Save As...",shortcut:"Shift+Meta+S",onclick:c(),stateSelector:"a[href]"}),a.addMenuItem("saveas",{icon:"save",text:"Save As...",shortcut:"Shift+Meta+S",onclick:c(),stateSelector:"a[href]",context:"file",prependToContext:!0}),a.addCommand("mceSaveas",c())});