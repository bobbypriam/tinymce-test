tinymce.PluginManager.add("emoji",function(a){function b(){f=a.getContent();var b=window.twemoji.parse(a.getContent());a.setContent(b)}function c(){var a;return a='<table role="list" class="mce-grid">',tinymce.each(e,function(b){a+="<tr>",tinymce.each(b,function(b){a+='<td><a href="#" data-mce-url="'+b+'" data-mce-alt="'+b+'" tabindex="-1" role="option" aria-label="'+b+'" style="font-size: 25px">'+b+"</a></td>"}),a+="</tr>"}),a+="</table>"}function d(){return function(){a.windowManager.open({title:"Insert Emoji",width:370,html:c(),onclick:function(b){var c=a.dom.getParent(b.target,"a");c&&(a.insertContent('<span style="font-size: 15px;">'+c.getAttribute("data-mce-url")+"</span>"),this.hide())}})}}var e=[["&#x1F600;","&#x1F601;","&#x1f602;","&#x1f603;","&#x1f604;","&#x1f605;","&#x1f606;","&#x1f607;","&#x1f608;","&#x1F609;","&#x1f60A;","&#x1f60B;"],["&#x1f60C;","&#x1f60D;","&#x1f60E;","&#x1f60F;","&#x1F610;","&#x1F611;","&#x1f612;","&#x1f613;","&#x1f614;","&#x1f615;","&#x1f616;","&#x1F634;"],["&#x1f617;","&#x1f618;","&#x1F619;","&#x1f61A;","&#x1f61B;","&#x1f61C;","&#x1f61D;","&#x1f61E;","&#x1f61F;","&#x1F620;","&#x1F621;","&#x1f622;"],["&#x1f623;","&#x1f625;","&#x1f626;","&#x1f627;","&#x1f628;","&#x1F629;","&#x1f62A;","&#x1f62B;","&#x1f62D;","&#x1f62E;","&#x1f60F;","&#x1F630;"],["&#x1F631;","&#x1f632;","&#x1f633;","&#x1f635;","&#x1f636;","&#x1f637;","&#x1f638;","&#x1F639;","&#x1f63A;","&#x1f63B;","&#x1f63C;","&#x1f63D;"],["&#x1f63E;","&#x1f63F;","&#x1F640;","&#x1F42D;","&#x1F42E;","&#x1F431;","&#x1F435;"],["&#x2702;","&#x2708;","&#x2709;","&#x270A;","&#x270B;","&#x270C;","&#x261D;","&#x270F;","&#x2712;","&#x2714;","&#x2716;","&#x2B50;"],["&#x2728;","&#x2603;","&#x2744;","&#x2747;","&#x274C;","&#x2797;","&#x2795;","&#x2796;","&#x00A9;","&#x00AE;","&#x2122;","&#x2194;"],["&#x231A;","&#x231B;","&#x2600;","&#x2601;","&#x26A1;","&#x2602;","&#x2614;","&#x2668;","&#x2615;","&#x260E;","&#x2660;","&#x2663;"],["&#x2665;","&#x2666;","&#x267B;","&#x267F;","&#x2693;","&#x26A0;","&#x27A1;","&#x2B05;","&#x2B06;","&#x2B07;"]],f="";a.on("blur",function(){b()}),a.on("focus",function(){a.setContent(f)}),a.addButton("emoji",{text:"^.^",tooltip:"Emoji",onclick:d()}),a.addCommand("mceEmoji",d())});